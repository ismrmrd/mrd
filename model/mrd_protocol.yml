# Union of all primary types that can be streamed in the MRD Protocol
StreamItem: !union
  acquisition: Acquisition
  waveformUint32: WaveformUint32
  imageUint16: ImageUint16
  imageInt16: ImageInt16
  imageUint32: ImageUint32
  imageInt32: ImageInt32
  imageFloat: ImageFloat
  imageDouble: ImageDouble
  imageComplexFloat: ImageComplexFloat
  imageComplexDouble: ImageComplexDouble
  acquisitionBucket: AcquisitionBucket
  reconData: ReconData
  arrayComplexFloat: ArrayComplexFloat
  imageArray: ImageArray
  ndArrayUint16: NDArrayUint16      # stream NDArray types unlike noise
  ndArrayInt16: NDArrayInt16
  ndArrayUint32: NDArrayUint32
  ndArrayInt32: NDArrayInt32
  ndArrayFloat: NDArrayFloat
  ndArrayDouble: NDArrayDouble
  ndArrayComplexFloat: NDArrayComplexFloat
  ndArrayComplexDouble: NDArrayComplexDouble

# The MRD Protocol
Mrd: !protocol
  sequence:
    header: Header?
    data: !stream
      items: StreamItem


# Protocol for serializing a noise covariance matrix
MrdNoiseCovariance: !protocol
  sequence:
    noiseCovariance: NoiseCovariance
